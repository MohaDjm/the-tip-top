# sonar-project.properties
# Configuration SonarQube pour Thé Tip Top

# Métadonnées du projet
sonar.projectKey=the-tip-top
sonar.projectName=Thé Tip Top - Jeu Concours
sonar.projectVersion=1.0.0
sonar.organization=furious-ducks

# Sources et tests
sonar.sources=backend/src,frontend/src
sonar.exclusions=**/*.test.ts,**/*.spec.ts,**/node_modules/**,**/dist/**,**/coverage/**,**/*.config.js
sonar.tests=backend/src/__tests__,frontend/cypress
sonar.test.inclusions=**/*.test.ts,**/*.spec.ts,**/*.cy.ts

# Langages
sonar.language=ts,js,tsx,jsx

# Couverture de code
sonar.javascript.lcov.reportPaths=backend/coverage/lcov.info,frontend/coverage/lcov.info
sonar.coverage.exclusions=**/scripts/**,**/migrations/**,**/*.config.js,**/*.config.ts

# Qualité et sécurité
sonar.qualitygate.wait=true
sonar.security.hotspots.maxIssues=0

# TypeScript
sonar.typescript.tsconfigPath=backend/tsconfig.json,frontend/tsconfig.json

# Seuils de qualité (Quality Gate)
sonar.coverage.minimum=80
sonar.duplications.target=3
sonar.maintainability.rating=A
sonar.reliability.rating=A
sonar.security.rating=A

# Analyse spécifique
# Backend Node.js
# sonar.nodejs.executable=node
sonar.javascript.node.maxspace=4096

# Frontend React/Next.js
sonar.javascript.jstest.reportsPath=frontend/coverage
sonar.javascript.lcov.reportPaths=frontend/coverage/lcov.info

# Exclusions spécifiques
sonar.cpd.exclusions=**/*.spec.ts,**/*.test.ts
sonar.issue.ignore.multicriteria=e1,e2

# Ignorer les faux positifs sur les imports React
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S1128
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.tsx

# Ignorer les avertissements sur les console.log en dev
sonar.issue.ignore.multicriteria.e2.ruleKey=javascript:S2228
sonar.issue.ignore.multicriteria.e2.resourceKey=**/dev/**

# Intégration GitLab
sonar.links.homepage=https://gitlab.com/furious-ducks/the-tip-top
sonar.links.ci=https://gitlab.com/furious-ducks/the-tip-top/pipelines
sonar.links.scm=https://gitlab.com/furious-ducks/the-tip-top
sonar.links.issue=https://gitlab.com/furious-ducks/the-tip-top/issues

# Configuration locale
sonar.host.url=http://localhost:9000
sonar.token=sqp_f1eabf318e382e8cac91ff31020905f1edc2d03c
